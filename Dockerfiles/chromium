#Based on jess/chromium
FROM debian:jessie
MAINTAINER Anton Paquin <antonpaquin@gmail.com>

RUN useradd -m user

RUN \
  echo 'deb http://httpredir.debian.org/debian testing main' >> /etc/apt/sources.list \
  && apt-get update \
  && apt-get install -y -t testing --no-install-recommends \
     chromium \
     chromium-l10n \
     alsa-utils \
  && rm -rf /var/lib/apt/lists/*

COPY asoundrc /home/user/.asoundrc

RUN usermod -a -G audio user

USER user

#At some point Arch will add user namespace support and I can have chrome sandboxing again"
ENTRYPOINT [ "chromium" ] 
CMD [ "--user-data-dir=/data --no-sandbox" ]
